<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
    <style type="text/css">
        .aspect {
            width: 100%;
            height: 50vw;
        }

        .aspect_normal,
        .aspect_dot,
        .aspect_key,
        .aspect_dotkey {
            width: 100%;
            height: 25vw;
        }

        #gmap_canvas,
        #gmap_canvas_normal,
        #gmap_canvas_dot,
        #gmap_canvas_key,
        #gmap_canvas_dotkey,
        div.g_canvas {
            width: 100%;
            height: 100%;
        }
    </style>
    <style type="text/css">
        div.gmapinfo {
            margin: 1px;
            padding: 1px;
        }

        div.gmapinfo img {
            width: 15vw;
        }

        span.title p {
            font-weight: bold;
        }

        @media screen and (min-width: 781px) {

            div.gmapinfo span p,
            span.title p,
            div.gmapinfo a {
                font-size: 14px;
            }
        }

        @media screen and (min-width: 381px) and (max-width: 780px) {

            div.gmapinfo span p,
            span.title p,
            div.gmapinfo a {
                font-size: 14px;
                line-height: 0px;
            }
        }

        @media screen and (max-width: 380px) {
            span.title p {
                font-size: 12px;
                padding: 1px;
                line-height: 14px;
            }

            div.gmapinfo span p,
            div.gmapinfo a {
                font-size: 10px;
                padding: 1px;
                line-height: 0px;
            }
        }
    </style>
</head>

<body>
    <div class="aspect">
        <div id="gmap_canvas" class="g_canvas"></div><span id="ver" style="font-size: 0.8em; color: gray;"></span>
    </div>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript"
        src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDNPBLPvfD5v1zweYOnGHPHry4MlsHG_so&v=3"></script>

    <script type="text/javascript">
        function init() {
            var map_div = document.getElementById("gmap_canvas");
            var gmap_canvas = new google.maps.Map(map_div, {
                center: new google.maps.LatLng(34.839450, 134.693903),
                zoom: 14,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            });

            //create contents
            var wrapper = document.createElement("div");
            wrapper.className = "gmapinfo";
            wrapper.id = "i_gmapinfo";

            var image = document.createElement("img");
            image.src = "http://castle-himeji.com/d1/wp-content/uploads/2015/05/eye_vs-kisai_gate.png";
            image.alt = "eye_vs-kisai_gate.png";

            var title = document.createElement("span");
            title.className = "title";
            var titlep = document.createElement("p");
            titlep.innerText = "世界文化遺産 国宝 姫路城";
            title.appendChild(titlep);

            var contentInner = document.createElement("span");
            contentInner.className = "contentinner";
            var contentInnerp = document.createElement("p");
            contentInnerp.innerText = "〒670-0012 兵庫県姫路市本町６８";
            contentInner.appendChild(contentInnerp);

            var link = document.createElement("a");
            link.appendChild(document.createTextNode("大入実況｜世界文化遺産国宝姫路城"));
            link.href = "http://www.himejicastle.jp/";
            link.target = "_blank";

            wrapper.appendChild(image);
            wrapper.appendChild(title);
            wrapper.appendChild(contentInner);
            wrapper.appendChild(link);


            //create infowindow
            var iw = new google.maps.InfoWindow({
                position: new google.maps.LatLng(34.839450, 134.693903),
                content: wrapper
            });

            //create marker
            var def_marker = create_marker({
                map: gmap_canvas,
                position: new google.maps.LatLng(34.839450, 134.693903)
            });

            //maker ivent
            google.maps.event.addDomListener(def_marker, "click", function () {
                iw.open(gmap_canvas);
            });

        }

        function create_marker(options) {
            var m = new google.maps.Marker(options);
            return m;
        }

        google.maps.event.addDomListener(window, "load", init);
        $('#ver').text(google.maps.version);
    </script>
</body>

</html>